{"version":3,"sources":["icons/related.js","icons/topindicator.js","icons/rotate-cw.js","icons/rotate-ccw.js","components/Wheel.js","components/Utils.js","icons/sound.js","icons/piano.js","icons/clear.js","components/KeyChart.js","components/Lists.js","components/Key.js","icons/locked.js","icons/unlocked.js","components/Piano.js","icons/arrowdown.js","components/Picker.js","components/ChordChart.js","components/Menu.js","icons/braces.js","icons/treble.js","icons/bass.js","icons/sharp.js","icons/flat.js","icons/whole.js","components/Staff.js","components/Layout.js","App.js","serviceWorker.js","index.js"],"names":["Related","className","width","height","viewBox","fill","xmlns","d","TopIndicator","RotateCW","RotateCCW","Wheel","props","outer","inner","useState","rotateIndex","setRotateIndex","rotateDeg","setRotateDeg","rotateToIndex","i","distanceCW","distanceCCW","notesCircle","intervalsIncrements","findPoint","angle","cornerRad","Math","PI","x","rad","cos","y","sin","firstUpdate","useRef","classNames","notesSelected","type","style","transform","undefined","chosenChord","chord","notes","current","intervals","root","rootEquiv","wheelEquivalents","rootPos","indexOf","points","circles","positions","length","intervalNum","slice","intervalQual","substr","pos","push","sort","a","b","p","point","key","cx","cy","r","join","map","circle","drawShape","note","index","myKey","role","onClick","findKey","charAt","rotateTo","C","Cb","D","Db","E","Eb","F","Fb","G","Gb","A","Ab","B","Bb","intQuality","P","M","m","intNumber","intervalName","interval","quality","number","notesWithIntervals","absIntervals","notesList","intRoot","intRelative","Interval","distance","title","Sound","fillRule","clipRule","Piano","Locked","KeyChart","gradesMajor","I","II","III","IV","V","VI","VII","Object","keys","tonic","selectNotesFromKey","disabled","autoplaying","keyboardLocked","playScale","details","Key","majorKey","console","log","chords","grades","harmonicFunction","getChord","minorKey","keyInfo","chordList","name","options","formula","keyList","enharmonic","color","label","enharmoniclabel","midi","shortcut","active","includes","pressed","pressedNotes","data-midi","data-note","data-shortcut","onMouseDown","playPiano","updateSelected","onMouseUp","onMouseLeave","onMouseEnter","e","mouseDown","flat","sharp","Unlocked","keyDown","setKeyDown","setMouseDown","showShortcuts","setShowShortcuts","setLeftButtonState","buttons","which","document","body","onmousedown","onmouseup","onkeydown","setKeyboardLocked","setNotesSelected","playNotes","keyShortcuts","pressNote","onkeyup","Note","q","w","s","f","t","g","h","u","j","k","o","l","ArrowDown","Picker","initialIsVisible","isComponentVisible","setIsComponentVisible","ref","handleHideDropdown","event","handleClickOutside","contains","target","useEffect","addEventListener","removeEventListener","useComponentVisible","selected","children","ChordChart","chordNote","setChordNote","chordType","setChordType","trimChordRoot","split","manualChordSelection","noteChoices","chordChoices","item","id","value","checked","onChange","currentTarget","htmlFor","symbol","selectNotesFromChord","playChord","alias","formatted","chordDetect","Menu","window","open","Braces","Treble","Bass","Sharp","Flat","Whole","Staff","signature","keySignature","accidental","sharps","sigList","sig","list","replace","Layout","synthLoaded","setsynthLoaded","setPressedNotes","setChordDetect","setMyKey","setChosenChord","setAutoplaying","synth","Chord","get","empty","pitchedNotesFromChord","pitchedNotesFromKey","playPlaylist","playlist","pressStyle","Part","time","triggerAttackRelease","duration","start","Transport","timeouts","setTimeout","highlightKeys","setKey","updateNote","action","splice","sortedNames","pitch","pitched","octave","oldIndex","newIndex","simplified","simplify","toString","scale","natural","Sampler","C3","C4","C5","C6","A3","A4","A5","A6","volume","release","baseUrl","location","hostname","process","onload","toDestination","ChordDetect","triggerAttack","triggerRelease","App","Boolean","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.7d7940a5.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Related = ({ className = \"\" }) => (\n  <svg\n    width=\"238\"\n    height=\"128\"\n    viewBox=\"0 0 238 128\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M3.0345 56.0345C-0.0896896 52.9103 -0.101979 47.8298 3.1641 44.8542C17.8579 31.4674 34.7768 20.7149 53.1785 13.0927C74.0465 4.4489 96.4127 -5.65459e-06 119 0C141.587 5.6546e-06 163.954 4.44892 184.822 13.0927C203.223 20.715 220.142 31.4675 234.836 44.8543C238.102 47.8299 238.09 52.9103 234.966 56.0345L166.008 124.992C162.884 128.116 157.847 128.064 154.326 125.395C150.354 122.385 146.004 119.887 141.379 117.972C134.284 115.033 126.68 113.52 119 113.52C111.32 113.52 103.716 115.033 96.6207 117.972C91.9956 119.887 87.6461 122.385 83.674 125.395C80.1529 128.064 75.1157 128.116 71.9915 124.992L3.0345 56.0345Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Related;\n","import React from \"react\";\n\nconst TopIndicator = ({ className = \"\" }) => (\n  <svg\n    width=\"56\"\n    height=\"9\"\n    viewBox=\"0 0 56 9\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M0.0426203 4.44595C-0.149186 3.35816 0.577012 2.31957 1.66707 2.14112C19.1043 -0.7134 36.8899 -0.713709 54.3273 2.14021C55.4173 2.31861 56.1436 3.35718 55.9518 4.44498L55.5143 6.92671C55.3225 8.01451 54.2854 8.73955 53.1952 8.5617C36.5069 5.83915 19.4875 5.83944 2.79936 8.56257C1.7092 8.74046 0.672021 8.01546 0.480214 6.92767L0.0426203 4.44595Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default TopIndicator;\n","import React from \"react\";\n\nconst RotateCW = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M12.0343 5.64221V2.85221C12.0343 2.40221 12.5743 2.18221 12.8843 2.50221L16.6843 6.29221C16.8843 6.49221 16.8843 6.80221 16.6843 7.00221L12.8943 10.7922C12.5743 11.1022 12.0343 10.8822 12.0343 10.4322V7.64221C8.30433 7.64221 5.35433 11.0622 6.17433 14.9322C6.64433 17.1922 8.31433 18.9222 10.5643 19.4622C14.2043 20.3422 17.4943 17.8622 17.9843 14.5022C18.0443 14.0122 18.4643 13.6422 18.9543 13.6422C19.5543 13.6422 20.0343 14.1722 19.9543 14.7722C19.3243 19.2422 15.0143 22.5222 10.1843 21.4422C7.09433 20.7522 4.79434 18.3622 4.19433 15.2522C3.19433 10.1222 7.09433 5.64221 12.0343 5.64221Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default RotateCW;\n","import React from \"react\";\n\nconst RotateCCW = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M11.9657 5.64221V2.85221C11.9657 2.40221 11.4257 2.18221 11.1157 2.50221L7.31567 6.29221C7.11567 6.49221 7.11567 6.80221 7.31567 7.00221L11.1057 10.7922C11.4257 11.1022 11.9657 10.8822 11.9657 10.4322V7.64221C15.6957 7.64221 18.6457 11.0622 17.8257 14.9322C17.3557 17.1922 15.6857 18.9222 13.4357 19.4622C9.79567 20.3422 6.50567 17.8622 6.01567 14.5022C5.95567 14.0122 5.53567 13.6422 5.04567 13.6422C4.44567 13.6422 3.96567 14.1722 4.04567 14.7722C4.67567 19.2422 8.98567 22.5222 13.8157 21.4422C16.9057 20.7522 19.2057 18.3622 19.8057 15.2522C20.8057 10.1222 16.9057 5.64221 11.9657 5.64221Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default RotateCCW;\n","import React, { useState, useRef } from \"react\";\r\nimport classNames from \"classnames\";\r\nimport Related from \"../icons/related\";\r\nimport TopIndicator from \"../icons/topindicator\";\r\nimport RotateCW from \"../icons/rotate-cw\";\r\nimport RotateCCW from \"../icons/rotate-ccw\";\r\nimport \"../css/wheel.scss\";\r\n\r\nexport const Wheel = (props) => {\r\n  const outer = [\r\n    \"C\",\r\n    \"G\",\r\n    \"D\",\r\n    \"A\",\r\n    \"E\",\r\n    \"B\",\r\n    \"F#\",\r\n    \"Db\",\r\n    \"Ab\",\r\n    \"Eb\",\r\n    \"Bb\",\r\n    \"F\",\r\n  ];\r\n  const inner = [\r\n    \"a\",\r\n    \"e\",\r\n    \"b\",\r\n    \"f#\",\r\n    \"c#\",\r\n    \"g#\",\r\n    \"d#\",\r\n    \"bb\",\r\n    \"f\",\r\n    \"c\",\r\n    \"g\",\r\n    \"d\",\r\n  ];\r\n\r\n  const [rotateIndex, setRotateIndex] = useState(0);\r\n  const [rotateDeg, setRotateDeg] = useState(0);\r\n\r\n  function rotateToIndex(i) {\r\n    if (i === rotateIndex) return;\r\n\r\n    var distanceCW = 0;\r\n    var distanceCCW = 0;\r\n    var toAngle = 0;\r\n\r\n    if (i > rotateIndex) {\r\n      distanceCW = i - rotateIndex;\r\n      distanceCCW = 12 - i + rotateIndex;\r\n    } else {\r\n      distanceCW = 12 - rotateIndex + i;\r\n      distanceCCW = rotateIndex - i;\r\n    }\r\n\r\n    if (distanceCW < distanceCCW) {\r\n      toAngle = rotateDeg - distanceCW * 30;\r\n    } else {\r\n      toAngle = rotateDeg + distanceCCW * 30;\r\n    }\r\n\r\n    setRotateDeg(toAngle);\r\n    setRotateIndex(i);\r\n    return;\r\n  }\r\n\r\n  var notesCircle = [\r\n    \"A\",\r\n    \"E\",\r\n    \"B\",\r\n    \"F#\",\r\n    \"Db\",\r\n    \"Ab\",\r\n    \"Eb\",\r\n    \"Bb\",\r\n    \"F\",\r\n    \"C\",\r\n    \"G\",\r\n    \"D\",\r\n  ];\r\n\r\n  const intervalsIncrements = {\r\n    \"1P\": 0,\r\n    \"1A\": -5,\r\n    //\r\n    \"2M\": 2,\r\n    \"2m\": -5,\r\n    \"2d\": 0,\r\n    \"2A\": -3,\r\n    //\r\n    \"3M\": 4,\r\n    \"3m\": -3,\r\n    \"3d\": 2,\r\n    \"3A\": -1,\r\n    //\r\n    \"4P\": -1,\r\n    \"4d\": 4,\r\n    \"4A\": 6,\r\n    //\r\n    \"5P\": 1,\r\n    \"5d\": 6,\r\n    \"5A\": -4,\r\n    //\r\n    \"6M\": 3,\r\n    \"6m\": -4,\r\n    \"6d\": 1,\r\n    \"6A\": 5,\r\n    //\r\n    \"7M\": 5,\r\n    \"7m\": -2,\r\n    \"7d\": 3,\r\n    \"7A\": 0,\r\n    //\r\n    \"8P\": 0,\r\n    \"8d\": 5,\r\n    \"8A\": -5,\r\n    //\r\n    // 9 and up repeat 2 and up\r\n    //\r\n  };\r\n\r\n  function findPoint(angle) {\r\n    const rad = 320 / 2;\r\n    const drawRad = rad * 0.7;\r\n    var cornerRad = (angle * Math.PI) / 180;\r\n    var nx = Math.cos(cornerRad) * drawRad + rad;\r\n    var ny = Math.sin(cornerRad) * drawRad + rad;\r\n\r\n    return { x: nx, y: ny };\r\n  }\r\n\r\n  const firstUpdate = useRef(true);\r\n\r\n  function drawShape() {\r\n    if (firstUpdate.current) {\r\n      firstUpdate.current = false;\r\n      return;\r\n    }\r\n\r\n    const intervals = props.chosenChord.chord.intervals;\r\n    const root = props.chosenChord.chord.notes[0];\r\n    const rootEquiv = wheelEquivalents[root];\r\n    const rootPos = notesCircle.indexOf(rootEquiv);\r\n    const dotRad = 6;\r\n    var points = [];\r\n    var circles = [];\r\n\r\n    var positions = [];\r\n    for (var i = 0; i < intervals.length; i++) {\r\n      // simplify large intervals and get increment on CoF\r\n      var intervalNum = intervals[i].slice(0, -1);\r\n      const intervalQual = intervals[i].substr(intervals[i].length - 1);\r\n\r\n      if (intervalNum > 8) {\r\n        intervalNum = (intervalNum % 9) + 2;\r\n      }\r\n\r\n      const interval = intervalNum + intervalQual;\r\n      const increment = intervalsIncrements[interval];\r\n      const pos = (rootPos + increment) % 12;\r\n      positions.push(pos);\r\n    }\r\n\r\n    function compare(a, b) {\r\n      if (a > b) return 1;\r\n      if (b > a) return -1;\r\n\r\n      return 0;\r\n    }\r\n\r\n    positions = positions.sort(compare);\r\n\r\n    for (var p = 0; p < positions.length; p++) {\r\n      const point = findPoint(positions[p] * 30);\r\n\r\n      circles.push(\r\n        <circle\r\n          key={p}\r\n          cx={point.x}\r\n          cy={point.y}\r\n          r={dotRad}\r\n          className={positions[p] === rootPos ? \"root\" : \"non-root\"}\r\n        />\r\n      );\r\n\r\n      points.push(point.x + \" \" + point.y);\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <polygon points={points.join(\", \")} />\r\n        {circles.map((circle) => circle)}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"wheel-wrap\">\r\n      <div\r\n        className={classNames(\"wheel\", {\r\n          [`theme-${props.notesSelected.type}`]: true,\r\n        })}\r\n      >\r\n        <div className=\"wheel-background\">\r\n          <div className=\"outer\"></div>\r\n          <div className=\"gap\"></div>\r\n          <div className=\"inner\"></div>\r\n          <div className=\"center\"></div>\r\n        </div>\r\n\r\n        <div className=\"wheel-related\">\r\n          <Related />\r\n        </div>\r\n        <div\r\n          className=\"wheel-rotate\"\r\n          style={{ transform: `rotate(${rotateDeg}deg)` }}\r\n        >\r\n          <div className=\"wheel-indicator\">\r\n            <TopIndicator />\r\n          </div>\r\n          <div className=\"wheel-lines\">\r\n            <svg\r\n              className=\"wheel-lines-svg\"\r\n              height=\"320\"\r\n              width=\"320\"\r\n              viewBox=\"0 0 320 320\"\r\n            >\r\n              {props.chosenChord.chord.notes !== undefined && drawShape()}\r\n            </svg>\r\n          </div>\r\n          <div className=\"wheel-outer\">\r\n            {outer.map((note, i) => (\r\n              <span key={i} className=\"note\" index={i}>\r\n                <span\r\n                  className={classNames(\"note-btn major\", {\r\n                    current:\r\n                      props.myKey.note === outer[i] &&\r\n                      props.myKey.type === \"major\",\r\n                  })}\r\n                  role=\"button\"\r\n                  onClick={() => {\r\n                    rotateToIndex(i);\r\n                    props.findKey(outer[i], \"major\");\r\n                  }}\r\n                >\r\n                  {outer[i].length > 1 ? (\r\n                    <>\r\n                      <span>{outer[i].charAt(0)}</span>\r\n                      <span>{outer[i].charAt(1)}</span>\r\n                    </>\r\n                  ) : (\r\n                    <span>{outer[i]}</span>\r\n                  )}\r\n                </span>\r\n                <span\r\n                  className={classNames(\"note-btn minor\", {\r\n                    current:\r\n                      props.myKey.note === inner[i] &&\r\n                      props.myKey.type === \"minor\",\r\n                  })}\r\n                  role=\"button\"\r\n                  onClick={() => {\r\n                    rotateToIndex(i);\r\n                    props.findKey(inner[i], \"minor\");\r\n                  }}\r\n                >\r\n                  {inner[i].length > 1 ? (\r\n                    <>\r\n                      <span>{inner[i].charAt(0)}</span>\r\n                      <span>{inner[i].charAt(1)}</span>\r\n                    </>\r\n                  ) : (\r\n                    <span>{inner[i]}</span>\r\n                  )}\r\n                </span>\r\n              </span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <span\r\n          role=\"button\"\r\n          className=\"wheel-arrow cw\"\r\n          onClick={() => {\r\n            const rotateTo = rotateIndex === 0 ? 11 : rotateIndex - 1;\r\n            const type = props.myKey.type ? props.myKey.type : \"major\";\r\n            rotateToIndex(rotateTo);\r\n            props.findKey(\r\n              type === \"major\" ? outer[rotateTo] : inner[rotateTo],\r\n              type\r\n            );\r\n          }}\r\n        >\r\n          <RotateCW />\r\n        </span>\r\n        <span\r\n          role=\"button\"\r\n          className=\"wheel-arrow ccw\"\r\n          onClick={() => {\r\n            const rotateTo = rotateIndex === 11 ? 0 : rotateIndex + 1;\r\n            const type = props.myKey.type ? props.myKey.type : \"major\";\r\n            rotateToIndex(rotateTo);\r\n            props.findKey(\r\n              type === \"major\" ? outer[rotateTo] : inner[rotateTo],\r\n              type\r\n            );\r\n          }}\r\n        >\r\n          <RotateCCW />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst wheelEquivalents = {\r\n  C: \"C\",\r\n  Cb: \"B\",\r\n  \"C#\": \"Db\",\r\n  D: \"D\",\r\n  Db: \"Db\",\r\n  \"D#\": \"Eb\",\r\n  E: \"E\",\r\n  Eb: \"Eb\",\r\n  \"E#\": \"F\",\r\n  F: \"F\",\r\n  Fb: \"E\",\r\n  \"F#\": \"F#\",\r\n  G: \"G\",\r\n  Gb: \"F#\",\r\n  \"G#\": \"Ab\",\r\n  A: \"A\",\r\n  Ab: \"Ab\",\r\n  \"A#\": \"Bb\",\r\n  B: \"B\",\r\n  Bb: \"Bb\",\r\n  \"B#\": \"C\",\r\n};\r\n","import React from \"react\";\r\nimport { Interval } from \"@tonaljs/tonal\";\r\n\r\nconst intQuality = {\r\n  P: \"Perfect\",\r\n  M: \"Major\",\r\n  m: \"Minor\",\r\n  d: \"Diminished\",\r\n  A: \"Augmented\",\r\n};\r\n\r\nconst intNumber = {\r\n  \"1\": \"unison\",\r\n  \"2\": \"second\",\r\n  \"3\": \"third\",\r\n  \"4\": \"fourth\",\r\n  \"5\": \"fifth\",\r\n  \"6\": \"sixth\",\r\n  \"7\": \"seventh\",\r\n  \"8\": \"octave\",\r\n  \"9\": \"ninth\",\r\n  \"10\": \"tenth\",\r\n  \"11\": \"eleventh\",\r\n  \"12\": \"twelfth\",\r\n  \"13\": \"thirteenth\",\r\n  \"14\": \"fourteenth\",\r\n  \"15\": \"fifteenth\",\r\n};\r\n\r\nfunction intervalName(interval) {\r\n  if (interval === \"1P\") return \"Perfect unison\";\r\n\r\n  const quality = interval.charAt(1);\r\n  const number = interval.charAt(0);\r\n\r\n  return intQuality[quality] + \" \" + intNumber[number];\r\n}\r\n\r\nexport function notesWithIntervals(notes, absIntervals) {\r\n  var notesList = [];\r\n\r\n  if (notes.length === absIntervals.length) {\r\n    for (var i = 0; i < notes.length; i++) {\r\n      const note = notes[i];\r\n      const intRoot = absIntervals[i];\r\n      const intRelative =\r\n        i === notes.length ? \"\" : Interval.distance(notes[i], notes[i + 1]);\r\n\r\n      notesList.push({\r\n        note: note,\r\n        intRoot: intRoot,\r\n        intRelative: intRelative,\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <span className=\"notes-with-intervals\">\r\n      {notesList.map((note, i) => (\r\n        <span key={i} className=\"pair\">\r\n          <div className=\"note-root\">\r\n            <span className=\"root-interval\" title={intervalName(note.intRoot)}>\r\n              {note.intRoot}\r\n            </span>\r\n            <span className=\"note\">{note.note}</span>\r\n          </div>\r\n          <span\r\n            className=\"relative-interval\"\r\n            title={intervalName(note.intRelative)}\r\n          >\r\n            {note.intRelative}\r\n          </span>\r\n        </span>\r\n      ))}\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\n\nconst Sound = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon sharp ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M14 4.65181V4.45181C14 3.82181 14.63 3.37181 15.21 3.60181C18.6 4.89181 21 8.16181 21 12.0018C21 15.8418 18.6 19.1118 15.21 20.4018C14.63 20.6218 14 20.1818 14 19.5518V19.3518C14 18.9718 14.24 18.6418 14.6 18.5018C17.18 17.4718 19 14.9418 19 12.0018C19 9.06181 17.18 6.53181 14.6 5.50181C14.25 5.36181 14 5.03181 14 4.65181ZM3 10.0018V14.0018C3 14.5518 3.45 15.0018 4 15.0018H7L10.29 18.2918C10.92 18.9218 12 18.4718 12 17.5818V6.41181C12 5.52181 10.92 5.07181 10.29 5.70181L7 9.00181H4C3.45 9.00181 3 9.45181 3 10.0018ZM16.5 12.0018C16.5 10.2318 15.48 8.71181 14 7.97181V16.0218C15.48 15.2918 16.5 13.7718 16.5 12.0018Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Sound;\n","import React from \"react\";\n\nconst Piano = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M20.7152 2.06862H4.46521C3.42966 2.06862 2.59021 2.90807 2.59021 3.94362V20.1936C2.59021 21.2292 3.42966 22.0686 4.46521 22.0686H20.7152C21.7508 22.0686 22.5902 21.2292 22.5902 20.1936V3.94362C22.5902 2.90807 21.7508 2.06862 20.7152 2.06862ZM6.96521 20.8186H4.46521C4.12001 20.8186 3.84021 20.5388 3.84021 20.1936V3.94362C3.84021 3.59842 4.12001 3.31862 4.46521 3.31862H5.71521V12.6936C5.71521 13.0388 5.99501 13.3186 6.34021 13.3186H6.96521V20.8186ZM11.9652 20.8186H8.21521V13.3186H8.84021C9.18541 13.3186 9.46521 13.0388 9.46521 12.6936V3.31862H10.7152V12.6936C10.7152 13.0388 10.995 13.3186 11.3402 13.3186H11.9652V20.8186ZM16.9652 20.8186H13.2152V13.3186H13.8402C14.1854 13.3186 14.4652 13.0388 14.4652 12.6936V3.31862H15.7152V12.6936C15.7152 13.0388 15.995 13.3186 16.3402 13.3186H16.9652V20.8186ZM21.3402 20.1936C21.3402 20.5388 21.0604 20.8186 20.7152 20.8186H18.2152V13.3186H18.8402C19.1854 13.3186 19.4652 13.0388 19.4652 12.6936V3.31862H20.7152C21.0604 3.31862 21.3402 3.59842 21.3402 3.94362V20.1936Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Piano;\n","import React from \"react\";\n\nconst Locked = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M2 12C2 6.47 6.47 2 12 2C17.53 2 22 6.47 22 12C22 17.53 17.53 22 12 22C6.47 22 2 17.53 2 12ZM14.89 16.3C15.28 16.69 15.91 16.69 16.3 16.3C16.68 15.91 16.68 15.27 16.3 14.89L13.41 12L16.3 9.11C16.69 8.72 16.69 8.09 16.3 7.7C15.91 7.31 15.28 7.31 14.89 7.7L12 10.59L9.11 7.7C8.72 7.31 8.09 7.31 7.7 7.7C7.51275 7.88683 7.40751 8.14048 7.40751 8.405C7.40751 8.66952 7.51275 8.92317 7.7 9.11L10.59 12L7.7 14.89C7.51275 15.0768 7.40751 15.3305 7.40751 15.595C7.40751 15.8595 7.51275 16.1132 7.7 16.3C8.09 16.69 8.72 16.69 9.11 16.3L12 13.41L14.89 16.3Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Locked;\n","import React from \"react\";\r\nimport { Key } from \"@tonaljs/tonal\";\r\nimport { notesWithIntervals } from \"./Utils\";\r\nimport Sound from \"../icons/sound\";\r\nimport Piano from \"../icons/piano\";\r\nimport Clear from \"../icons/clear\";\r\nimport \"../css/charts.scss\";\r\n\r\nexport const KeyChart = (props) => {\r\n  const gradesMajor = {\r\n    I: \"I\",\r\n    II: \"ii\",\r\n    III: \"iii\",\r\n    IV: \"IV\",\r\n    V: \"V\",\r\n    VI: \"vi\",\r\n    VII: \"viiÂ°\",\r\n  };\r\n\r\n  // const gradesMinorNatural = {\r\n  //   I: \"I\",\r\n  //   II: \"ii\",\r\n  //   III: \"iii\",\r\n  //   IV: \"IV\",\r\n  //   V: \"V\",\r\n  //   VI: \"vi\",\r\n  //   VII: \"viiÂ°\",\r\n  // };\r\n\r\n  // 1st: Major triad (I)\r\n  // 2nd: minor triad (ii)\r\n  // 3rd: minor triad (iii)\r\n  // 4th: Major triad (IV)\r\n  // 5th: Major triad (V)\r\n  // 6th: minor triad (vi)\r\n  // 7th: diminished triad (viio)\r\n\r\n  // Chords with grades\r\n  function chordsWithGrades(chords, grades, harmonicFunction) {\r\n    return (\r\n      <span className=\"chords-with-grades\">\r\n        {chords.map((chord, i) => (\r\n          <div key={i} className=\"pair\">\r\n            <span className=\"harmonic-function\">({harmonicFunction[i]})</span>\r\n            <span className=\"grade\">{gradesMajor[grades[i]]}</span>\r\n            <button\r\n              className=\"small theme-chord\"\r\n              onClick={() => {\r\n                // console.log(\"need to export getChord in layout\");\r\n                props.getChord(chord);\r\n              }}\r\n            >\r\n              {chord}\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  // Key info\r\n  function keyInfo() {\r\n    if (props.myKey.type === \"major\") {\r\n      const details = Key.majorKey(props.myKey.note);\r\n\r\n      console.log(details);\r\n\r\n      return (\r\n        <>\r\n          <div className=\"detail\">\r\n            <span className=\"label\">Relative Minor</span>\r\n            <span className=\"value\">\r\n              {details[\"minorRelative\"] && (\r\n                <button\r\n                  className=\"small theme-key\"\r\n                  onClick={() => {\r\n                    props.findKey(details[\"minorRelative\"], \"minor\");\r\n                  }}\r\n                >\r\n                  {details[\"minorRelative\"]} minor\r\n                </button>\r\n              )}\r\n            </span>\r\n          </div>\r\n\r\n          {notesWithIntervals(details[\"scale\"], details[\"intervals\"])}\r\n          {chordsWithGrades(\r\n            details[\"chords\"],\r\n            details[\"grades\"],\r\n            details[\"chordsHarmonicFunction\"]\r\n          )}\r\n        </>\r\n      );\r\n    } else if (props.myKey.type === \"minor\") {\r\n      const details = Key.minorKey(props.myKey.note);\r\n\r\n      return (\r\n        <div className=\"detail\">\r\n          <span className=\"label\">Relative Major</span>\r\n          <span className=\"value\">\r\n            {details[\"relativeMajor\"] && (\r\n              <button\r\n                className=\"small theme-key\"\r\n                onClick={() => {\r\n                  props.findKey(details[\"relativeMajor\"], \"major\");\r\n                }}\r\n              >\r\n                {details[\"relativeMajor\"]} major\r\n              </button>\r\n            )}\r\n          </span>\r\n          <p>More minor chord info coming soon...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart\">\r\n      <div className=\"chart-title\">\r\n        <span className=\"chart-title-label\">\r\n          {Object.keys(props.myKey.key).length === 0 ? (\r\n            <span className=\"empty\">Key</span>\r\n          ) : (\r\n            <span className=\"color-theme-key\">\r\n              {props.myKey.key.tonic} {props.myKey.key.type}\r\n            </span>\r\n          )}\r\n        </span>\r\n\r\n        <div className=\"button-group touching\">\r\n          <button\r\n            className=\"outline theme-key select-key\"\r\n            onClick={() => {\r\n              if (Object.keys(props.myKey.key).length !== 0) {\r\n                props.selectNotesFromKey(props.myKey.key, props.myKey.type);\r\n              }\r\n            }}\r\n            disabled={\r\n              props.autoplaying ||\r\n              props.keyboardLocked ||\r\n              props.notesSelected.type === \"key\" ||\r\n              Object.keys(props.myKey.key).length === 0\r\n            }\r\n          >\r\n            <Piano />\r\n            <span className=\"text\">Select</span>\r\n          </button>\r\n          <button\r\n            className=\"outline theme-key play-key\"\r\n            onClick={\r\n              Object.keys(props.myKey.key).length !== 0 ? props.playScale : null\r\n            }\r\n            disabled={\r\n              props.autoplaying || Object.keys(props.myKey.key).length === 0\r\n            }\r\n          >\r\n            <Sound />\r\n            <span className=\"text\">Play</span>\r\n          </button>\r\n          <button\r\n            className=\"outline theme-key\"\r\n            onClick={() => {\r\n              props.findKey(\"\", \"\");\r\n            }}\r\n            disabled={\r\n              props.autoplaying || Object.keys(props.myKey.key).length === 0\r\n            }\r\n          >\r\n            <Clear />\r\n            <span className=\"text\">Clear</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-details\">\r\n        {Object.keys(props.myKey.key).length === 0 ? (\r\n          <span className=\"empty\">No key selected.</span>\r\n        ) : (\r\n          props.myKey.note && keyInfo()\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const chordList = [\r\n  {\r\n    name: \"Triads\",\r\n    options: [\r\n      {\r\n        name: \"Major\",\r\n        formula: \"M\",\r\n      },\r\n      {\r\n        name: \"Minor\",\r\n        formula: \"m\",\r\n      },\r\n      {\r\n        name: \"Diminished\",\r\n        formula: \"dim\",\r\n      },\r\n      {\r\n        name: \"Augmented\",\r\n        formula: \"aug\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Sevenths\",\r\n    options: [\r\n      {\r\n        name: \"Major 7th\",\r\n        formula: \"M7\",\r\n      },\r\n      {\r\n        name: \"Minor 7th\",\r\n        formula: \"m7\",\r\n      },\r\n      {\r\n        name: \"Dominant 7th\",\r\n        formula: \"7\",\r\n      },\r\n      {\r\n        name: \"Diminished 7th\",\r\n        formula: \"dim7\",\r\n      },\r\n      {\r\n        name: \"Half Diminished 7th\",\r\n        formula: \"m7b5\",\r\n      },\r\n      {\r\n        name: \"Augmented 7th\",\r\n        formula: \"aug7\",\r\n      },\r\n      {\r\n        name: \"Augmented Major 7th\",\r\n        formula: \"maj7#5\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Extended\",\r\n    options: [\r\n      {\r\n        name: \"Dominant 9th\",\r\n        formula: \"9\",\r\n      },\r\n      {\r\n        name: \"Dominant 11th\",\r\n        formula: \"11\",\r\n      },\r\n      {\r\n        name: \"Dominant 13th\",\r\n        formula: \"13\",\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Alterered\",\r\n    options: [\r\n      {\r\n        name: \"Seventh Augmented 5th\",\r\n        formula: \"7b13\",\r\n      },\r\n      {\r\n        name: \"Seventh Minor 9th\",\r\n        formula: \"7b9b13\",\r\n      },\r\n      {\r\n        name: \"Seventh Sharp 9th\",\r\n        formula: \"7#9\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const keyList = [\r\n  {\r\n    note: \"C3\",\r\n    enharmonic: \"B#2\",\r\n    color: \"white\",\r\n    label: \"C\",\r\n    enharmoniclabel: \"B#\",\r\n    midi: 48,\r\n  },\r\n  {\r\n    note: \"C#3\",\r\n    enharmonic: \"Db3\",\r\n    color: \"black\",\r\n    label: \"C#\",\r\n    enharmoniclabel: \"Db\",\r\n    midi: 49,\r\n  },\r\n  {\r\n    note: \"D3\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"D\",\r\n    enharmoniclabel: false,\r\n    midi: 50,\r\n  },\r\n  {\r\n    note: \"D#3\",\r\n    enharmonic: \"Eb3\",\r\n    color: \"black\",\r\n    label: \"D#\",\r\n    enharmoniclabel: \"Eb\",\r\n    midi: 51,\r\n  },\r\n  {\r\n    note: \"E3\",\r\n    enharmonic: \"Fb3\",\r\n    color: \"white\",\r\n    label: \"E\",\r\n    enharmoniclabel: \"Fb\",\r\n    midi: 52,\r\n  },\r\n  {\r\n    note: \"F3\",\r\n    enharmonic: \"E#3\",\r\n    color: \"white\",\r\n    label: \"F\",\r\n    enharmoniclabel: \"E#\",\r\n    midi: 53,\r\n  },\r\n  {\r\n    note: \"F#3\",\r\n    enharmonic: \"Gb3\",\r\n    color: \"black\",\r\n    label: \"F#\",\r\n    enharmoniclabel: \"Gb\",\r\n    midi: 54,\r\n  },\r\n  {\r\n    note: \"G3\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"G\",\r\n    enharmoniclabel: false,\r\n    midi: 55,\r\n  },\r\n  {\r\n    note: \"G#3\",\r\n    enharmonic: \"Ab3\",\r\n    color: \"black\",\r\n    label: \"G#\",\r\n    enharmoniclabel: \"Ab\",\r\n    midi: 56,\r\n    shortcut: \"q\",\r\n  },\r\n  {\r\n    note: \"A3\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"A\",\r\n    enharmoniclabel: false,\r\n    midi: 57,\r\n    shortcut: \"a\",\r\n  },\r\n  {\r\n    note: \"A#3\",\r\n    enharmonic: \"Bb3\",\r\n    color: \"black\",\r\n    label: \"A#\",\r\n    enharmoniclabel: \"Bb\",\r\n    midi: 58,\r\n    shortcut: \"w\",\r\n  },\r\n  {\r\n    note: \"B3\",\r\n    enharmonic: \"Cb4\",\r\n    color: \"white\",\r\n    label: \"B\",\r\n    enharmoniclabel: \"Cb\",\r\n    midi: 59,\r\n    shortcut: \"s\",\r\n  },\r\n  {\r\n    note: \"C4\",\r\n    enharmonic: \"B#3\",\r\n    color: \"white\",\r\n    label: \"C\",\r\n    enharmoniclabel: \"B#\",\r\n    midi: 48,\r\n    shortcut: \"d\",\r\n  },\r\n  {\r\n    note: \"C#4\",\r\n    enharmonic: \"Db4\",\r\n    color: \"black\",\r\n    label: \"C#\",\r\n    enharmoniclabel: \"Db\",\r\n    midi: 49,\r\n    shortcut: \"r\",\r\n  },\r\n  {\r\n    note: \"D4\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"D\",\r\n    enharmoniclabel: false,\r\n    midi: 50,\r\n    shortcut: \"f\",\r\n  },\r\n  {\r\n    note: \"D#4\",\r\n    enharmonic: \"Eb4\",\r\n    color: \"black\",\r\n    label: \"D#\",\r\n    enharmoniclabel: \"Eb\",\r\n    midi: 51,\r\n    shortcut: \"t\",\r\n  },\r\n  {\r\n    note: \"E4\",\r\n    enharmonic: \"Fb4\",\r\n    color: \"white\",\r\n    label: \"E\",\r\n    enharmoniclabel: \"Fb\",\r\n    midi: 52,\r\n    shortcut: \"g\",\r\n  },\r\n  {\r\n    note: \"F4\",\r\n    enharmonic: \"E#4\",\r\n    color: \"white\",\r\n    label: \"F\",\r\n    enharmoniclabel: \"E#\",\r\n    midi: 54,\r\n    shortcut: \"h\",\r\n  },\r\n  {\r\n    note: \"F#4\",\r\n    enharmonic: \"Gb4\",\r\n    color: \"black\",\r\n    label: \"F#\",\r\n    enharmoniclabel: \"Gb\",\r\n    midi: 54,\r\n    shortcut: \"u\",\r\n  },\r\n  {\r\n    note: \"G4\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"G\",\r\n    enharmoniclabel: false,\r\n    midi: 55,\r\n    shortcut: \"j\",\r\n  },\r\n  {\r\n    note: \"G#4\",\r\n    enharmonic: \"Ab4\",\r\n    color: \"black\",\r\n    label: \"G#\",\r\n    enharmoniclabel: \"Ab\",\r\n    midi: 56,\r\n    shortcut: \"i\",\r\n  },\r\n  {\r\n    note: \"A4\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"A\",\r\n    enharmoniclabel: false,\r\n    midi: 57,\r\n    shortcut: \"k\",\r\n  },\r\n  {\r\n    note: \"A#4\",\r\n    enharmonic: \"Bb4\",\r\n    color: \"black\",\r\n    label: \"A#\",\r\n    enharmoniclabel: \"Bb\",\r\n    midi: 58,\r\n    shortcut: \"o\",\r\n  },\r\n  {\r\n    note: \"B4\",\r\n    enharmonic: \"Cb5\",\r\n    color: \"white\",\r\n    label: \"B\",\r\n    enharmoniclabel: \"Cb\",\r\n    midi: 59,\r\n    shortcut: \"l\",\r\n  },\r\n  {\r\n    note: \"C5\",\r\n    enharmonic: \"B#4\",\r\n    color: \"white\",\r\n    label: \"C\",\r\n    enharmoniclabel: \"B#\",\r\n    midi: 48,\r\n    shortcut: \";\",\r\n  },\r\n  {\r\n    note: \"C#5\",\r\n    enharmonic: \"Db5\",\r\n    color: \"black\",\r\n    label: \"C#\",\r\n    enharmoniclabel: \"Db\",\r\n    midi: 49,\r\n    shortcut: \"[\",\r\n  },\r\n  {\r\n    note: \"D5\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"D\",\r\n    enharmoniclabel: false,\r\n    midi: 50,\r\n    shortcut: \"'\",\r\n  },\r\n  {\r\n    note: \"D#5\",\r\n    enharmonic: \"Eb5\",\r\n    color: \"black\",\r\n    label: \"D#\",\r\n    enharmoniclabel: \"Eb\",\r\n    midi: 51,\r\n    shortcut: \"]\",\r\n  },\r\n  {\r\n    note: \"E5\",\r\n    enharmonic: \"Fb5\",\r\n    color: \"white\",\r\n    label: \"E\",\r\n    enharmoniclabel: \"Fb\",\r\n    midi: 52,\r\n  },\r\n  {\r\n    note: \"F5\",\r\n    enharmonic: \"E#5\",\r\n    color: \"white\",\r\n    label: \"F\",\r\n    enharmoniclabel: \"E#\",\r\n    midi: 55,\r\n  },\r\n  {\r\n    note: \"F#5\",\r\n    enharmonic: \"Gb5\",\r\n    color: \"black\",\r\n    label: \"F#\",\r\n    enharmoniclabel: \"Gb\",\r\n    midi: 54,\r\n  },\r\n  {\r\n    note: \"G5\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"G\",\r\n    enharmoniclabel: false,\r\n    midi: 55,\r\n  },\r\n  {\r\n    note: \"G#5\",\r\n    enharmonic: \"Ab5\",\r\n    color: \"black\",\r\n    label: \"G#\",\r\n    enharmoniclabel: \"Ab\",\r\n    midi: 56,\r\n  },\r\n  {\r\n    note: \"A5\",\r\n    enharmonic: false,\r\n    color: \"white\",\r\n    label: \"A\",\r\n    enharmoniclabel: false,\r\n    midi: 57,\r\n  },\r\n  {\r\n    note: \"A#5\",\r\n    enharmonic: \"Bb5\",\r\n    color: \"black\",\r\n    label: \"A#\",\r\n    enharmoniclabel: \"Bb\",\r\n    midi: 58,\r\n  },\r\n  {\r\n    note: \"B5\",\r\n    enharmonic: \"Cb6\",\r\n    color: \"white\",\r\n    label: \"B\",\r\n    enharmoniclabel: \"Cb\",\r\n    midi: 59,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nexport const Key = (props) => {\r\n  return (\r\n    <button\r\n      className={classNames(`key key-${props.color}`, {\r\n        active:\r\n          props.notesSelected.notes.includes(props.note) ||\r\n          props.notesSelected.notes.includes(props.enharmonic),\r\n        pressed:\r\n          props.pressedNotes.includes(props.note) ||\r\n          props.pressedNotes.includes(props.enharmonic),\r\n      })}\r\n      data-midi={props.midi}\r\n      data-note={props.note}\r\n      data-shortcut={props.shortcut}\r\n      onMouseDown={() => {\r\n        props.playPiano(props.note, \"attack\");\r\n        props.updateSelected(props.index);\r\n      }}\r\n      onMouseUp={() => {\r\n        props.playPiano(props.note, \"release\");\r\n      }}\r\n      onMouseLeave={() => {\r\n        props.playPiano(props.note, \"release\");\r\n      }}\r\n      onMouseEnter={(e) => {\r\n        if (props.mouseDown) {\r\n          props.playPiano(props.note, \"attackrelease\");\r\n        }\r\n      }}\r\n    >\r\n      {props.shortcut && (\r\n        <div className=\"key-shortcut\">\r\n          <span className=\"key-shortcut-line\"></span>\r\n          <span className=\"key-shortcut-btn\">{props.shortcut}</span>\r\n        </div>\r\n      )}\r\n\r\n      <span className=\"key-labels\">\r\n        <span\r\n          className={classNames(`key-label`, {\r\n            active: props.notesSelected.notes.includes(props.note),\r\n            flat: props.note.includes(\"b\"),\r\n            sharp: props.note.includes(\"#\"),\r\n          })}\r\n        >\r\n          {props.label}\r\n        </span>\r\n\r\n        {props.enharmonic && (\r\n          <span\r\n            className={classNames(`key-label`, {\r\n              active: props.notesSelected.notes.includes(props.enharmonic),\r\n              flat: props.enharmonic.includes(\"b\"),\r\n              sharp: props.enharmonic.includes(\"#\"),\r\n            })}\r\n          >\r\n            {props.enharmoniclabel}\r\n          </span>\r\n        )}\r\n      </span>\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\n\nconst Locked = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M17 8.5H18C19.1 8.5 20 9.4 20 10.5V20.5C20 21.6 19.1 22.5 18 22.5H6C4.9 22.5 4 21.6 4 20.5V10.5C4 9.4 4.9 8.5 6 8.5H7V6.5C7 3.74 9.24 1.5 12 1.5C14.76 1.5 17 3.74 17 6.5V8.5ZM9 6.5V8.5H15V6.5C15 4.84 13.66 3.5 12 3.5C10.34 3.5 9 4.84 9 6.5Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Locked;\n","import React from \"react\";\n\nconst Unlocked = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M17 8.5H18C19.1 8.5 20 9.4 20 10.5V20.5C20 21.6 19.1 22.5 18 22.5H6C4.9 22.5 4 21.6 4 20.5V10.5C4 9.4 4.9 8.5 6 8.5H15V6.5C15 4.85 13.65 3.5 12 3.5C10.63 3.5 9.44 4.43 9.1 5.75C8.96 6.29 8.41 6.61 7.88 6.47C7.34 6.33 7.02 5.79 7.16 5.25C7.73 3.04 9.72 1.5 12 1.5C14.76 1.5 17 3.74 17 6.5V8.5ZM17 20.5C17.55 20.5 18 20.05 18 19.5V11.5C18 10.95 17.55 10.5 17 10.5H7C6.45 10.5 6 10.95 6 11.5V19.5C6 20.05 6.45 20.5 7 20.5H17Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Unlocked;\n","import React, { useState } from \"react\";\r\nimport classNames from \"classnames\";\r\nimport { Note } from \"@tonaljs/tonal\";\r\nimport { keyList } from \"./Lists\";\r\nimport { Key } from \"./Key\";\r\nimport Sound from \"../icons/sound\";\r\nimport Locked from \"../icons/locked\";\r\nimport Unlocked from \"../icons/unlocked\";\r\nimport Clear from \"../icons/clear\";\r\nimport \"../css/keyboard.scss\";\r\n\r\nexport const Piano = (props) => {\r\n  const [keyDown, setKeyDown] = useState(false);\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [showShortcuts, setShowShortcuts] = useState(false);\r\n\r\n  // Handle mouse down state\r\n  function setLeftButtonState(e) {\r\n    setMouseDown(e.buttons === undefined ? e.which === 1 : e.buttons === 1);\r\n  }\r\n  document.body.onmousedown = setLeftButtonState;\r\n  document.body.onmouseup = setLeftButtonState;\r\n\r\n  // Key Down\r\n  document.body.onkeydown = function (e) {\r\n    switch (e.key) {\r\n      // Prevent repeat key presses\r\n      case keyDown:\r\n        return;\r\n      // Shift key temporarily (un)locks keyboard\r\n      case \"Shift\":\r\n        props.setKeyboardLocked(!props.keyboardLocked);\r\n        break;\r\n      // Delete key = Unselect keys\r\n      case \"Delete\":\r\n        props.setNotesSelected({ notes: [], type: \"notes\" });\r\n        break;\r\n      // Enter key = play selected\r\n      case \"Enter\":\r\n        props.playNotes();\r\n        break;\r\n      default:\r\n        // Don't both with irrelevant keys\r\n        if (!(e.key in keyShortcuts)) return;\r\n\r\n        if (e.key in keyShortcuts) {\r\n          props.playPiano(keyShortcuts[e.key], \"attack\");\r\n          props.pressNote(keyShortcuts[e.key], \"on\");\r\n        }\r\n        break;\r\n    }\r\n\r\n    setKeyDown(true);\r\n    return;\r\n  };\r\n\r\n  // Key Up\r\n  document.body.onkeyup = function (e) {\r\n    switch (e.key) {\r\n      // Shift key temporarily (un)locks keyboard\r\n      case \"Shift\":\r\n        props.setKeyboardLocked(!props.keyboardLocked);\r\n        break;\r\n      default:\r\n        props.playPiano(keyShortcuts[e.key], \"release\");\r\n        props.pressNote(keyShortcuts[e.key], \"off\");\r\n        break;\r\n    }\r\n\r\n    setKeyDown(false);\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\"keyboard\", {\r\n        [`theme-${props.notesSelected.type}`]: true,\r\n        \"theme-locked\": props.keyboardLocked,\r\n        \"show-shortcuts\": showShortcuts,\r\n      })}\r\n    >\r\n      {!showShortcuts && (\r\n        <button\r\n          className=\"outline view-keyboard-shortcuts\"\r\n          onClick={() => {\r\n            setShowShortcuts(true);\r\n          }}\r\n        >\r\n          View Keyboard Shortcuts\r\n        </button>\r\n      )}\r\n      <div className=\"keyboard-buttons\">\r\n        <button\r\n          className={`outline ${props.keyboardLocked && \"theme-locked\"}`}\r\n          onClick={() => {\r\n            props.setKeyboardLocked(!props.keyboardLocked);\r\n          }}\r\n        >\r\n          {props.keyboardLocked ? <Locked /> : <Unlocked />}\r\n\r\n          <span className=\"text\">Lock</span>\r\n        </button>\r\n        <div className=\"button-group touching\">\r\n          <button\r\n            className=\"play outline\"\r\n            onClick={() => {\r\n              props.playNotes();\r\n            }}\r\n            disabled={\r\n              props.keyboardLocked || props.notesSelected.notes.length === 0\r\n            }\r\n          >\r\n            <Sound />\r\n            <span className=\"text\">Play</span>\r\n          </button>\r\n          <button\r\n            className=\"outline\"\r\n            onClick={() => {\r\n              props.setNotesSelected({ notes: [], type: \"notes\" });\r\n            }}\r\n            disabled={\r\n              props.keyboardLocked || props.notesSelected.notes.length === 0\r\n            }\r\n          >\r\n            <Clear />\r\n            <span className=\"text\">Clear</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"keyboard-keys-wrap\">\r\n        <div className=\"keyboard-keys\">\r\n          {keyList.map((key, i) => (\r\n            <Key\r\n              key={i}\r\n              index={i}\r\n              color={key.color}\r\n              note={key.note}\r\n              enharmonic={key.enharmonic}\r\n              label={key.label}\r\n              enharmoniclabel={key.enharmoniclabel}\r\n              midi={Note.midi(key.note)}\r\n              shortcut={key.shortcut}\r\n              playPiano={props.playPiano}\r\n              notesSelected={props.notesSelected}\r\n              pressedNotes={props.pressedNotes}\r\n              updateSelected={props.updateSelected}\r\n              mouseDown={mouseDown}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst keyShortcuts = {\r\n  q: \"G#3\",\r\n  a: \"A3\",\r\n  w: \"A#3\",\r\n  s: \"B3\",\r\n  d: \"C4\",\r\n  r: \"C#4\",\r\n  f: \"D4\",\r\n  t: \"D#4\",\r\n  g: \"E4\",\r\n  h: \"F4\",\r\n  u: \"F#4\",\r\n  j: \"G4\",\r\n  i: \"G#4\",\r\n  k: \"A4\",\r\n  o: \"A#4\",\r\n  l: \"B4\",\r\n  \";\": \"C5\",\r\n  \"[\": \"C#5\",\r\n  \"'\": \"D5\",\r\n  \"]\": \"D#5\",\r\n};\r\n","import React from \"react\";\n\nconst ArrowDown = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M8.70621 11.4138L11.2962 14.0038C11.6862 14.3938 12.3162 14.3938 12.7062 14.0038L15.2962 11.4138C15.9262 10.7838 15.4762 9.70375 14.5862 9.70375H9.40621C8.51621 9.70375 8.07621 10.7838 8.70621 11.4138Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default ArrowDown;\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport ArrowDown from \"../icons/arrowdown\";\r\nimport classNames from \"classnames\";\r\n\r\nexport const Picker = (props) => {\r\n  const {\r\n    ref,\r\n    isComponentVisible,\r\n    setIsComponentVisible,\r\n  } = useComponentVisible(false);\r\n\r\n  return (\r\n    <div ref={ref} className={classNames(\"picker\", props.className)}>\r\n      <div\r\n        className=\"picker-toggle\"\r\n        onClick={() => setIsComponentVisible(!isComponentVisible)}\r\n      >\r\n        <span>{props.selected}</span>\r\n        <ArrowDown />\r\n      </div>\r\n      {isComponentVisible && (\r\n        <div\r\n          className=\"picker-menu\"\r\n          onClick={() => setIsComponentVisible(false)}\r\n        >\r\n          {props.children}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction useComponentVisible(initialIsVisible) {\r\n  const [isComponentVisible, setIsComponentVisible] = useState(\r\n    initialIsVisible\r\n  );\r\n  const ref = useRef(null);\r\n\r\n  const handleHideDropdown = (event: KeyboardEvent) => {\r\n    if (event.key === \"Escape\") {\r\n      setIsComponentVisible(false);\r\n    }\r\n  };\r\n\r\n  const handleClickOutside = (event) => {\r\n    if (ref.current && !ref.current.contains(event.target)) {\r\n      setIsComponentVisible(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleHideDropdown, true);\r\n    document.addEventListener(\"click\", handleClickOutside, true);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleHideDropdown, true);\r\n      document.removeEventListener(\"click\", handleClickOutside, true);\r\n    };\r\n  });\r\n\r\n  return { ref, isComponentVisible, setIsComponentVisible };\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { chordList } from \"./Lists\";\r\nimport { Picker } from \"./Picker\";\r\nimport { notesWithIntervals } from \"./Utils\";\r\nimport Sound from \"../icons/sound\";\r\nimport Piano from \"../icons/piano\";\r\nimport Clear from \"../icons/clear\";\r\nimport \"../css/charts.scss\";\r\nimport \"../css/chords.scss\";\r\n\r\nexport const ChordChart = (props) => {\r\n  const [chordNote, setChordNote] = useState(\"C\");\r\n  const [chordType, setChordType] = useState({ name: \"Major\", formula: \"M\" });\r\n\r\n  function trimChordRoot(name) {\r\n    const chordName = name.split(\"/\");\r\n    return chordName[0];\r\n  }\r\n\r\n  const manualChordSelection = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!manualChordSelection.current) {\r\n      manualChordSelection.current = true;\r\n    } else {\r\n      !props.keyboardLocked &&\r\n        props.getChord(`${chordNote}${chordType.formula}`);\r\n    }\r\n  }, [chordNote, chordType]);\r\n\r\n  const octave = [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"];\r\n\r\n  const noteChoices = octave.map((note, i) => (\r\n    <span key={i} className=\"note\">\r\n      <button\r\n        className=\"natural\"\r\n        onClick={() => {\r\n          setChordNote(note);\r\n        }}\r\n      >\r\n        {note}\r\n      </button>\r\n      <button\r\n        className=\"flat\"\r\n        onClick={() => {\r\n          setChordNote(note + \"b\");\r\n        }}\r\n      >\r\n        {note}b\r\n      </button>\r\n      <button\r\n        className=\"sharp\"\r\n        onClick={() => {\r\n          setChordNote(note + \"#\");\r\n        }}\r\n      >\r\n        {note}#\r\n      </button>\r\n    </span>\r\n  ));\r\n\r\n  const chordChoices = (\r\n    <>\r\n      {Object.keys(chordList).map((item, i) => (\r\n        <span key={i} className=\"type-group\">\r\n          <span className=\"type-group-title\">{chordList[item].name}</span>\r\n          <span className=\"type-group-options\">\r\n            {chordList[item].options.map((chord, i) => {\r\n              return (\r\n                <button\r\n                  key={i}\r\n                  onClick={() => {\r\n                    setChordType({ name: chord.name, formula: chord.formula });\r\n                  }}\r\n                >\r\n                  {chord.name}\r\n                </button>\r\n              );\r\n            })}\r\n          </span>\r\n        </span>\r\n      ))}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className=\"chart\">\r\n      <div className=\"chart-select  chart-select-top chord-picker\">\r\n        <div className=\"picker-group\">\r\n          <Picker className=\"picker-notes\" selected={chordNote}>\r\n            <div className=\"picker-notes-menu\">{noteChoices}</div>\r\n          </Picker>\r\n          <Picker className=\"picker-chords\" selected={chordType.name}>\r\n            <div className=\"picker-chords-menu\">{chordChoices}</div>\r\n          </Picker>\r\n        </div>\r\n\r\n        <div className=\"radio-group\">\r\n          <div\r\n            className={`radio-item ${\r\n              props.chosenChord.name === chordNote + chordType.formula &&\r\n              \"checked\"\r\n            }`}\r\n          >\r\n            <input\r\n              type=\"radio\"\r\n              id={`chord-radio-${chordNote}-${chordType.formula}`}\r\n              name=\"chord-radio\"\r\n              value={`${chordNote}${chordType.formula}`}\r\n              checked={props.chosenChord.name === chordNote + chordType.formula}\r\n              onChange={(e) => {\r\n                props.getChord(e.currentTarget.value);\r\n              }}\r\n            />\r\n            <label htmlFor={`chord-radio-${chordNote}-${chordType.formula}`}>\r\n              {chordNote}\r\n              {chordType.formula}\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-title\">\r\n        <span className=\"chart-title-label\">\r\n          {Object.keys(props.chosenChord.chord).length === 0 ? (\r\n            <span className=\"empty\">Chord</span>\r\n          ) : (\r\n            <span className=\"color-theme-chord\">\r\n              {props.chosenChord.chord.symbol}\r\n            </span>\r\n          )}\r\n        </span>\r\n\r\n        <div className=\"button-group touching\">\r\n          <button\r\n            className=\"outline theme-chord\"\r\n            onClick={() => {\r\n              if (props.chosenChord.chord.length !== 0) {\r\n                props.selectNotesFromChord(props.chosenChord.chord.notes);\r\n              }\r\n            }}\r\n            disabled={\r\n              props.autoplaying ||\r\n              props.keyboardLocked ||\r\n              props.notesSelected.type === \"chord\" ||\r\n              Object.keys(props.chosenChord.chord).length === 0\r\n            }\r\n          >\r\n            <Piano />\r\n            <span className=\"text\">Select</span>\r\n          </button>\r\n          <button\r\n            className=\"outline theme-chord\"\r\n            onClick={() => {\r\n              props.playChord();\r\n            }}\r\n            disabled={\r\n              props.autoplaying ||\r\n              Object.keys(props.chosenChord.chord).length === 0\r\n            }\r\n          >\r\n            <Sound />\r\n            <span className=\"text\">Play</span>\r\n          </button>\r\n          <button\r\n            className=\"outline theme-chord\"\r\n            onClick={() => {\r\n              props.getChord(\"\");\r\n            }}\r\n            disabled={\r\n              props.autoplaying ||\r\n              Object.keys(props.chosenChord.chord).length === 0\r\n            }\r\n          >\r\n            <Clear />\r\n            <span className=\"text\">Clear</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"chart-details\">\r\n        {Object.keys(props.chosenChord.chord).length === 0 ? (\r\n          <span className=\"empty\">No chord selected.</span>\r\n        ) : (\r\n          chordInfo(props.chosenChord.chord)\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"chart-select chart-select-bottom\">\r\n        <span className=\"chart-select-label\">Predicted chords:</span>\r\n        <div>\r\n          {props.chordDetect.length > 0 ? (\r\n            <div className=\"radio-group\">\r\n              {props.chordDetect.map((chord, i) => (\r\n                <div\r\n                  className={`radio-item ${\r\n                    props.chosenChord.name === trimChordRoot(chord) && \"checked\"\r\n                  }`}\r\n                  key={i}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    id={`chord-radio-${trimChordRoot(chord)}`}\r\n                    name=\"chord-radio\"\r\n                    value={trimChordRoot(chord)}\r\n                    checked={props.chosenChord === trimChordRoot(chord)}\r\n                    onChange={(e) => {\r\n                      props.getChord(e.currentTarget.value);\r\n                    }}\r\n                  />\r\n                  <label htmlFor={`chord-radio-${trimChordRoot(chord)}`}>\r\n                    {trimChordRoot(chord)}\r\n                  </label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <span className=\"chart-select-text empty\">\r\n              Select notes to detect chords.\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction chordInfo(chord) {\r\n  return (\r\n    <div className=\"chord-details\">\r\n      <div className=\"chord-name\">\r\n        <span className=\"name\">{chord.name}</span>\r\n        <span className=\"aliases\">\r\n          {chord[\"aliases\"].map((alias, i) => {\r\n            if (alias === \"\") return;\r\n            var formatted = i !== 0 ? \", \" : \"\";\r\n            formatted += chord[\"notes\"][0] + alias;\r\n            return formatted;\r\n          })}\r\n        </span>\r\n      </div>\r\n\r\n      {notesWithIntervals(chord[\"notes\"], chord[\"intervals\"])}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"../css/menu.scss\";\r\n\r\nexport const Menu = (props) => {\r\n  return (\r\n    <div className=\"menu\">\r\n      <div className=\"menu-center\">\r\n        <div className=\"menu-left\">\r\n          <h2>Piano Chords</h2>\r\n        </div>\r\n        <div className=\"menu-right\">\r\n          <div className=\"button-group\">\r\n            <button\r\n              className=\"outline\"\r\n              onClick={() => {\r\n                window.open(\"https://github.com/updownupdown/chords\", \"_blank\");\r\n              }}\r\n            >\r\n              About\r\n            </button>\r\n            {/* <button className=\"outline\" disabled>\r\n              Help\r\n            </button>\r\n            <button className=\"outline\" disabled>\r\n              Settings\r\n            </button> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\n\nconst Braces = ({ className = \"\" }) => (\n  <svg\n    width=\"12\"\n    height=\"160\"\n    viewBox=\"0 0 12 160\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M10.421 104.102C10.421 116.733 5.05263 129.074 5.05263 141.125C5.05263 147.659 6.63157 153.757 11.8421 158.548C12 158.693 12 158.984 12 159.129C12 159.564 11.6842 160 11.2105 160C11.0526 160 10.7368 159.855 10.5789 159.71C3.63158 153.176 1.26316 144.61 1.26316 135.463C1.26316 122.541 6.94736 109.909 6.94736 97.7132C6.94736 91.1797 5.21052 85.0817 0.157895 80.2904C0 80.1452 0 80.1452 0 80C0 79.8548 0 79.8548 0.157895 79.7096C5.21052 74.9183 6.94736 68.8203 6.94736 62.2868C6.94736 50.0907 1.26316 37.4592 1.26316 24.5372C1.26316 15.3902 3.63158 6.82395 10.5789 0.290375C10.7368 0.145184 11.0526 0 11.2105 0C11.6842 0 12 0.435568 12 0.87114C12 1.01633 12 1.30671 11.8421 1.4519C6.63157 6.24319 5.05263 12.3412 5.05263 18.8748C5.05263 30.9256 10.421 43.2668 10.421 55.8984C10.421 64.9002 8.05263 73.4664 1.26316 80C8.05263 86.5336 10.421 95.0998 10.421 104.102Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Braces;\n","import React from \"react\";\n\nconst Treble = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M14.6234 2.07809C14.8029 3.91852 13.4348 5.40792 12.2232 6.61186C11.6728 7.13992 12.1319 6.69899 11.8442 6.96154C11.784 6.67956 11.6684 5.94251 11.6793 5.7194C11.756 4.13352 13.0449 1.84138 14.1742 0.995953C14.3561 1.33545 14.5056 1.36277 14.6234 2.07809ZM15.0066 11.5808C14.2813 11.0474 13.3288 10.9073 12.4554 11.0598C12.3428 10.321 12.2302 9.58217 12.1175 8.84395C13.5013 7.47288 15.006 5.88153 15.0849 3.81686C15.1196 2.50289 14.9224 1.06683 14.0971 0C13.0961 0.0754882 12.3902 1.26922 11.8589 2.01127C10.9824 3.58338 11.187 5.49452 11.5234 7.18972C11.0469 7.75016 10.3874 8.21581 9.91777 8.79921C8.53074 10.1579 7.32251 11.9958 7.56028 14.0256C7.6682 15.9883 9.08465 17.8133 11.016 18.2801C11.7494 18.4656 12.5254 18.4838 13.2673 18.3384C13.3967 19.663 13.8716 21.0635 13.3217 22.3492C12.9092 23.2899 11.6807 24.1176 10.7712 23.6396C10.4183 23.4536 10.7043 23.6096 10.4898 23.4912C11.1196 23.34 11.667 22.8814 11.8202 22.5699C12.3135 21.7081 11.5849 20.4277 10.5514 20.5931C9.21975 20.6202 8.67321 22.4416 9.52964 23.3511C10.3225 24.246 11.7861 24.1235 12.7263 23.5383C13.7933 22.8437 13.9269 21.452 13.8051 20.264C13.7639 19.8649 13.5678 18.6922 13.5437 18.2701C13.954 18.1235 13.6667 18.2354 14.246 18.0058C15.8119 17.3859 16.811 15.4985 16.3618 13.8131C16.1746 12.9483 15.7472 12.0977 15.0066 11.5808V11.5808ZM15.3369 14.9699C15.4629 16.142 14.717 17.5136 13.5243 17.8898C13.4442 17.4218 13.423 17.2947 13.3697 17.0215C13.0858 15.5733 12.9317 14.0857 12.7127 12.6175C13.6691 12.5186 14.7482 12.9371 15.0808 13.9032C15.2244 14.2429 15.2827 14.6079 15.3369 14.9699V14.9699ZM12.3059 18.0288C10.8082 18.1118 9.36274 17.0898 8.98904 15.6263C8.54811 14.3588 8.67803 12.9006 9.47218 11.7974C10.1286 10.7955 11.0066 9.96953 11.8438 9.12299C11.9515 9.78645 12.0593 10.4499 12.167 11.114C10.4064 11.5743 9.22081 13.8955 10.2743 15.5003C10.5878 15.9501 11.4379 16.809 11.9024 16.4622C11.2536 16.0602 10.723 15.3679 10.8371 14.5625C10.7888 13.8078 11.6436 12.8488 12.3979 12.6799C12.656 14.3688 12.9521 16.255 13.2102 17.9446C12.9126 18.0034 12.609 18.0288 12.3059 18.0288Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Treble;\n","import React from \"react\";\n\nconst Bass = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M2.25521 24C2.17564 23.796 2.09024 23.598 2 23.4049C3.16419 22.5738 4.35968 21.8405 5.48579 21.0244C6.62208 20.2013 7.69191 19.3284 8.67416 18.3464C11.0972 15.9234 13.1956 13.0858 13.8389 8.8667C13.974 7.98197 13.9493 7.08268 13.8178 6.16739C13.4619 3.69296 12.4717 1.60522 9.99167 1.21489C8.1145 0.919419 6.40836 1.44099 5.54935 2.51154C5.35091 2.75899 5.17382 3.0598 4.99697 3.42562C4.88319 3.65973 4.57947 4.22399 4.65686 4.44596C4.84438 4.98403 5.81862 4.51728 6.20847 4.48842C7.35786 4.40302 8.32968 4.99786 8.82263 5.57255C9.40169 6.24671 9.67291 7.35341 9.03538 8.27186C8.21809 9.44916 6.20289 9.98747 4.61416 9.27085C4.19254 9.08066 3.73768 8.78058 3.4667 8.39947C2.92063 7.63142 2.65305 6.4716 2.76513 5.38139C2.87745 4.28949 3.34905 3.4004 3.89172 2.72454C4.91813 1.44439 6.65556 0.165931 8.86532 0.0245009C10.9535 -0.109167 12.7089 0.316338 14.0939 1.00214C15.4965 1.69668 16.5256 2.71872 17.2611 4.02046C18.0047 5.33724 18.4814 7.15594 18.3026 9.10031C18.1333 10.9413 17.397 12.2921 16.5596 13.5424C14.9158 15.9974 12.6519 17.8916 10.2042 19.579C7.75523 21.2677 5.06174 22.7492 2.25521 24Z\"\n        fill=\"black\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M20.8318 2.44774C21.8143 2.3575 22.48 3.08527 22.5535 3.87175C22.6534 4.94594 21.7959 5.6611 20.8743 5.61476C20.0926 5.57546 19.3651 4.96341 19.3651 4.0207C19.3651 3.17503 19.998 2.52416 20.8318 2.44774Z\"\n        fill=\"black\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M20.8105 9.07895C21.7552 8.97804 22.4771 9.62818 22.5535 10.503C22.6396 11.492 21.8772 12.2334 20.9808 12.246C19.559 12.2656 18.9134 10.5719 19.7907 9.58912C20.0291 9.32155 20.3542 9.12796 20.8105 9.07895Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Bass;\n","import React from \"react\";\n\nconst Sharp = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon sharp ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M15.5245 8.8909V5.69466L14.0718 6.0784V0H13.1418V6.32354L11.0272 6.88132V0.813523H10.0974V7.12622L8.47546 7.55407V10.8086L10.0974 10.3675V15.146L8.47546 15.5738V18.8279L10.0974 18.3868V24H11.0272V18.1342L13.1418 17.5588V23.1867H14.0718V17.3057L15.5245 16.9107V13.7144L14.0718 14.0977V9.28621L15.5245 8.8909ZM13.1416 14.3431L11.0269 14.9008V10.1144L13.1416 9.53906V14.3431V14.3431Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Sharp;\n","import React from \"react\";\n\nconst Flat = ({ className = \"\" }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    className={`svg-icon flat ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M8.855 13.9023C8.855 9.26096 8.85451 4.64154 8.85451 0H7.36566C7.36566 7.90116 7.36688 16.0991 7.36688 24C8.53808 23.353 9.86506 22.0909 11.5124 21.0238C13.5544 19.7019 16.3649 18.4983 16.6145 16.0281C17.0279 11.9426 10.8737 12.2447 8.855 13.9023ZM8.855 21.4493C8.855 19.5006 8.855 17.5522 8.855 15.603C9.76299 13.8135 12.8702 13.8187 13.1067 15.8157C13.4078 18.3605 10.0172 20.1952 8.855 21.4493Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Flat;\n","import React from \"react\";\n\nconst Whole = ({ className = \"\" }) => (\n  <svg\n    width=\"20\"\n    height=\"12\"\n    viewBox=\"0 0 20 12\"\n    fill=\"none\"\n    className={`svg-icon whole ${className || \"\"}`}\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g>\n      <path\n        d=\"M11.4003 11.0062C8.45691 10.8505 6.1568 8.23772 5.23385 5.53589C4.67467 3.95011 4.98178 1.57112 6.84467 1.12568C9.54366 0.667278 11.7833 2.96005 13.0385 5.15409C13.9327 6.78141 14.427 9.34401 12.7505 10.634C12.3524 10.9009 11.8712 11.008 11.4003 11.0062ZM16.0893 1.74342C12.7731 -0.270688 8.58411 -0.427557 4.95278 0.699617C2.65251 1.50387 0.021755 3.21464 7.50508e-07 5.99909C-0.00159353 8.7273 2.53712 10.4293 4.78367 11.2399C8.34027 12.4033 12.4439 12.301 15.7646 10.4463C17.6442 9.4463 19.3102 7.3754 18.7453 5.08012C18.4346 3.60417 17.304 2.49981 16.0893 1.74342Z\"\n        fill=\"black\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Whole;\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\nimport Braces from \"../icons/braces\";\r\nimport Treble from \"../icons/treble\";\r\nimport Bass from \"../icons/bass\";\r\nimport Sharp from \"../icons/sharp\";\r\nimport Flat from \"../icons/flat\";\r\nimport Whole from \"../icons/whole\";\r\nimport \"../css/staff.scss\";\r\n\r\nexport const Staff = (props) => {\r\n  const signature = props.myKey.key.keySignature;\r\n  const accidental = signature === undefined ? undefined : signature.charAt(0);\r\n\r\n  const sharps = [\"F\", \"C\", \"G\", \"D\", \"A\", \"E\", \"B\"];\r\n\r\n  function sigList(sig) {\r\n    let list = [];\r\n    for (var i = 0; i < sig.length; i++) {\r\n      list.push(\r\n        <span\r\n          key={i}\r\n          className={accidental === \"#\" ? \"sharp\" : \"flat\"}\r\n          title={accidental === \"#\" ? sharps[i] : sharps[sharps.length - i - 1]}\r\n        >\r\n          <span className=\"hover-zone\"></span>\r\n          {accidental === \"#\" ? <Sharp /> : <Flat />}\r\n        </span>\r\n      );\r\n    }\r\n    return list;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\"staffs\", {\r\n        [`theme-${props.notesSelected.type}`]: true,\r\n      })}\r\n    >\r\n      <div className=\"staffs-braces\">\r\n        <Braces />\r\n      </div>\r\n      <div className=\"staff staff-treble\">\r\n        <div className=\"clef clef-treble\">\r\n          <Treble />\r\n        </div>\r\n        <div className=\"lines\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        <div className=\"notes treble\">\r\n          {props.notesSelected.notes.map((note) => (\r\n            <span\r\n              key={note}\r\n              className={`note treble note-${note\r\n                .replace(\"#\", \"\")\r\n                .replace(\"b\", \"\")} note-${note.replace(\"#\", \"s\")}`}\r\n            >\r\n              {note.includes(\"b\") && <Flat />}\r\n              {note.includes(\"#\") && <Sharp />}\r\n              <Whole />\r\n            </span>\r\n          ))}\r\n        </div>\r\n        <div className=\"signature treble\">\r\n          {signature && sigList(signature)}\r\n        </div>\r\n      </div>\r\n      <div className=\"staff staff-bass\">\r\n        <div className=\"clef clef-bass\">\r\n          <Bass />\r\n        </div>\r\n        <div className=\"lines\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        <div className=\"notes bass\">\r\n          {props.notesSelected.notes.map((note) => (\r\n            <span\r\n              key={note}\r\n              className={`note bass note-${note\r\n                .replace(\"#\", \"\")\r\n                .replace(\"b\", \"\")} note-${note.replace(\"#\", \"s\")}`}\r\n            >\r\n              {note.includes(\"b\") && <Flat />}\r\n              {note.includes(\"#\") && <Sharp />}\r\n              <Whole />\r\n            </span>\r\n          ))}\r\n        </div>\r\n        <div className=\"signature bass\">{signature && sigList(signature)}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Sampler, Part, Transport } from \"tone\";\r\nimport { Chord, Note, Key } from \"@tonaljs/tonal\";\r\nimport * as ChordDetect from \"@tonaljs/chord-detect\";\r\nimport { Wheel } from \"./Wheel\";\r\nimport { KeyChart } from \"./KeyChart\";\r\nimport { Piano } from \"./Piano\";\r\nimport { ChordChart } from \"./ChordChart\";\r\nimport { Menu } from \"./Menu\";\r\nimport { Staff } from \"./Staff\";\r\nimport { keyList } from \"./Lists\";\r\n\r\nfunction Layout() {\r\n  const [synthLoaded, setsynthLoaded] = useState(false);\r\n\r\n  const [notesSelected, setNotesSelected] = useState({\r\n    notes: [],\r\n    type: \"notes\",\r\n  });\r\n\r\n  const [pressedNotes, setPressedNotes] = useState([]);\r\n  const [chordDetect, setChordDetect] = useState(\"\");\r\n  const [myKey, setMyKey] = useState({ key: {}, note: \"\", type: \"\" });\r\n  const [chosenChord, setChosenChord] = useState({ chord: {}, name: \"\" });\r\n\r\n  const [autoplaying, setAutoplaying] = useState(false);\r\n  const [keyboardLocked, setKeyboardLocked] = useState(false);\r\n\r\n  // for auto play keys\r\n  const autoplayDelay = 0.3;\r\n  const autoplayLength = \"8n\";\r\n\r\n  const synth = useRef(null);\r\n\r\n  useEffect(() => {\r\n    synth.current = new Sampler(\r\n      {\r\n        C3: \"C3v8.mp3\",\r\n        C4: \"C4v8.mp3\",\r\n        C5: \"C5v8.mp3\",\r\n        C6: \"C6v8.mp3\",\r\n        \"F#3\": \"Fs3v8.mp3\",\r\n        \"F#4\": \"Fs4v8.mp3\",\r\n        \"F#5\": \"Fs5v8.mp3\",\r\n        \"F#6\": \"Fs6v8.mp3\",\r\n        A3: \"A3v8.mp3\",\r\n        A4: \"A4v8.mp3\",\r\n        A5: \"A5v8.mp3\",\r\n        A6: \"A6v8.mp3\",\r\n      },\r\n      {\r\n        volume: 0,\r\n        release: 1.2,\r\n        baseUrl: window.location.hostname.includes(\"localhost\")\r\n          ? process.env.PUBLIC_URL + \"/samples/\"\r\n          : \"https://www.jamescarmichael.ca/chords/samples/\",\r\n        onload: () => {\r\n          setsynthLoaded(true);\r\n        },\r\n      }\r\n    ).toDestination();\r\n    // synth.current.volume.value = -5;\r\n    // Tone.context.resume();\r\n  }, []);\r\n\r\n  // Get chord\r\n  function getChord(name) {\r\n    const chord = Chord.get(name);\r\n\r\n    // hack to unselect chord\r\n    if (chord.empty) {\r\n      setChosenChord({ chord: {}, name: \"\", notes: [] });\r\n\r\n      if (notesSelected.type === \"chord\") {\r\n        setNotesSelected({ notes: [], type: \"chord\" });\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    setChosenChord({ chord: chord, name: name });\r\n\r\n    selectNotesFromChord(chord.notes);\r\n  }\r\n\r\n  // Select notes from chord\r\n  function selectNotesFromChord(notes) {\r\n    !keyboardLocked &&\r\n      setNotesSelected({ notes: pitchedNotesFromChord(notes), type: \"chord\" });\r\n  }\r\n\r\n  // Select notes from key\r\n  function selectNotesFromKey(key, type) {\r\n    !keyboardLocked &&\r\n      setNotesSelected({ notes: pitchedNotesFromKey(key, type), type: \"key\" });\r\n  }\r\n\r\n  // Play playlist\r\n  function playPlaylist(playlist, pressStyle) {\r\n    if (!synthLoaded) return;\r\n\r\n    new Part(function (time, note) {\r\n      synth.current.triggerAttackRelease(note.note, note.duration, time);\r\n    }, playlist).start();\r\n    Transport.start();\r\n\r\n    highlightKeys(playlist, pressStyle);\r\n  }\r\n\r\n  // Play synth\r\n  function playPiano(note, action, duration = \"8n\") {\r\n    if (!synthLoaded) return;\r\n\r\n    switch (action) {\r\n      case \"attack\":\r\n        synth.current.triggerAttack(note);\r\n        break;\r\n      case \"release\":\r\n        synth.current.triggerRelease(note);\r\n        break;\r\n      case \"attackrelease\":\r\n        synth.current.triggerAttackRelease(note, duration);\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // Find key\r\n  function findKey(note, type) {\r\n    if (!note || !type) {\r\n      setKey({}, \"\", \"\");\r\n      return;\r\n    }\r\n\r\n    var key = {};\r\n\r\n    if (type === \"major\") {\r\n      key = Key.majorKey(note);\r\n    } else if (type === \"minor\") {\r\n      key = Key.minorKey(note);\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    setKey(key, note, type);\r\n  }\r\n\r\n  // Set key\r\n  function setKey(key, note, type) {\r\n    if (!key || !note || !type) {\r\n      setMyKey({ key: {}, note: \"\", type: \"\" });\r\n\r\n      if (notesSelected.type === \"key\") {\r\n        setNotesSelected({ notes: [], type: \"key\" });\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    setMyKey({ key: key, note: note, type: type });\r\n\r\n    selectNotesFromKey(key, type);\r\n  }\r\n\r\n  // Press (or unpress) note\r\n  function pressNote(note, action) {\r\n    const list = pressedNotes;\r\n\r\n    switch (action) {\r\n      case \"on\":\r\n        list.push(note);\r\n        break;\r\n      case \"off\":\r\n        const index = list.indexOf(note);\r\n        if (index > -1) {\r\n          list.splice(index, 1);\r\n        }\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    setPressedNotes(list);\r\n  }\r\n\r\n  // Update single selected note\r\n  function updateNote(note, action) {\r\n    const list = notesSelected.notes;\r\n\r\n    switch (action) {\r\n      case \"add\":\r\n        list.push(note);\r\n        break;\r\n      case \"remove\":\r\n        const index = list.indexOf(note);\r\n        if (index > -1) {\r\n          list.splice(index, 1);\r\n        }\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    setNotesSelected({ notes: Note.sortedNames(list), type: \"notes\" });\r\n  }\r\n\r\n  // Update selected notes\r\n  function updateSelected(index) {\r\n    if (keyboardLocked || autoplaying) return;\r\n\r\n    const note = keyList[index].note;\r\n    const enharmonic = keyList[index].enharmonic;\r\n\r\n    if (enharmonic) {\r\n      if (notesSelected.notes.includes(note)) {\r\n        updateNote(note, \"remove\");\r\n        updateNote(enharmonic, \"add\");\r\n      } else if (notesSelected.notes.includes(enharmonic)) {\r\n        updateNote(enharmonic, \"remove\");\r\n      } else {\r\n        updateNote(note, \"add\");\r\n      }\r\n    } else {\r\n      if (notesSelected.notes.includes(note)) {\r\n        updateNote(note, \"remove\");\r\n      } else {\r\n        updateNote(note, \"add\");\r\n      }\r\n    }\r\n  }\r\n\r\n  // Predict chords on note select change\r\n  useEffect(() => {\r\n    const chords = ChordDetect.detect(notesSelected.notes);\r\n    setChordDetect(chords);\r\n  }, [notesSelected]);\r\n\r\n  // Highlight keys (for autoplay)\r\n  function highlightKeys(playlist, pressStyle) {\r\n    if (pressStyle === \"scale\") {\r\n      var timeouts = [];\r\n\r\n      for (let i = 0; i < playlist.length; i++) {\r\n        setAutoplaying(true);\r\n\r\n        timeouts.push(\r\n          setTimeout(() => {\r\n            setPressedNotes(playlist[i].note);\r\n          }, autoplayDelay * i * 1000)\r\n        );\r\n\r\n        timeouts.push(\r\n          setTimeout(function () {\r\n            setPressedNotes([]);\r\n            setAutoplaying(false);\r\n          }, autoplayDelay * playlist.length * 1000)\r\n        );\r\n      }\r\n    } else if (pressStyle === \"chord\") {\r\n      setAutoplaying(true);\r\n\r\n      setPressedNotes(playlist[0].note);\r\n\r\n      setTimeout(function () {\r\n        setPressedNotes([]);\r\n        setAutoplaying(false);\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  // Get pitched notes from chord\r\n  function pitchedNotesFromChord(notes) {\r\n    var pitch = 4;\r\n    var pitched = [];\r\n\r\n    const octave = [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"];\r\n    var oldIndex = 0;\r\n\r\n    for (var i = 0; i < notes.length; i++) {\r\n      // increment after octave increases\r\n      var newIndex = octave.indexOf(notes[i].charAt(0));\r\n      if (newIndex < oldIndex) pitch++;\r\n      oldIndex = newIndex;\r\n\r\n      const simplified =\r\n        notes[i].length > 2 ? Note.simplify(notes[i]) : notes[i];\r\n\r\n      // need to simplify notes to get rid of things like \"Bbb\"\r\n      pitched.push(simplified + pitch.toString());\r\n    }\r\n\r\n    return pitched;\r\n  }\r\n\r\n  // Get pitched notes from key/type\r\n  function pitchedNotesFromKey(key, type) {\r\n    var pitch = 4;\r\n    var scale = type === \"major\" ? key.scale : key.natural.scale;\r\n    var pitched = [];\r\n\r\n    for (var i = 0; i < scale.length; i++) {\r\n      pitched.push(scale[i] + pitch.toString());\r\n\r\n      if (scale[i].includes(\"B\")) {\r\n        pitch++;\r\n      }\r\n    }\r\n    pitched.push(scale[0] + pitch.toString());\r\n\r\n    return pitched;\r\n  }\r\n\r\n  // Play notes\r\n  function playNotes() {\r\n    if (autoplaying || notesSelected.notes.length === 0) return;\r\n\r\n    const playlist = [];\r\n    for (var i = 0; i < notesSelected.notes.length; i++) {\r\n      playlist.push({\r\n        time: i * autoplayDelay,\r\n        note: notesSelected.notes[i],\r\n        duration: autoplayLength,\r\n      });\r\n    }\r\n\r\n    playPlaylist(playlist, \"scale\");\r\n  }\r\n\r\n  // Play chord (for chords)\r\n  function playChord() {\r\n    if (\r\n      Object.keys(chosenChord.chord).length === 0 ||\r\n      chosenChord.chord.notes.length === 0\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    const chord = pitchedNotesFromChord(chosenChord.chord.notes);\r\n\r\n    var playlist = [\r\n      {\r\n        time: 0,\r\n        note: chord,\r\n        duration: \"1n\",\r\n      },\r\n    ];\r\n    playPlaylist(playlist, \"chord\");\r\n  }\r\n\r\n  // Play Scale (for keys)\r\n  function playScale() {\r\n    if (Object.keys(myKey.key).length === 0) {\r\n      return;\r\n    }\r\n\r\n    var scale = pitchedNotesFromKey(myKey.key, myKey.type);\r\n\r\n    const playlist = [];\r\n    for (var i = 0; i < scale.length; i++) {\r\n      playlist.push({\r\n        time: i * autoplayDelay,\r\n        note: scale[i],\r\n        duration: autoplayLength,\r\n      });\r\n    }\r\n\r\n    playPlaylist(playlist, \"scale\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu />\r\n      <div className=\"layout\">\r\n        {/* <div className={`loader ${synthLoaded ? \"loaded\" : \"loading\"}`}>\r\n          <div className=\"loading\">\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </div>\r\n        </div> */}\r\n        <div className=\"layout-center\">\r\n          <Piano\r\n            autoplaying={autoplaying}\r\n            notesSelected={notesSelected}\r\n            setNotesSelected={setNotesSelected}\r\n            playPiano={playPiano}\r\n            pressNote={pressNote}\r\n            updateSelected={updateSelected}\r\n            playNotes={playNotes}\r\n            keyboardLocked={keyboardLocked}\r\n            setKeyboardLocked={setKeyboardLocked}\r\n            pressedNotes={pressedNotes}\r\n            setPressedNotes={setPressedNotes}\r\n          />\r\n\r\n          <div className=\"layout-bottom\">\r\n            <div className=\"layout-bottom-left\">\r\n              <Wheel\r\n                autoplaying={autoplaying}\r\n                chosenChord={chosenChord}\r\n                myKey={myKey}\r\n                findKey={findKey}\r\n                notesSelected={notesSelected}\r\n              />\r\n              <Staff myKey={myKey} notesSelected={notesSelected} />\r\n            </div>\r\n            <div className=\"layout-bottom-right\">\r\n              <KeyChart\r\n                keyboardLocked={keyboardLocked}\r\n                autoplaying={autoplaying}\r\n                myKey={myKey}\r\n                notesSelected={notesSelected}\r\n                selectNotesFromKey={selectNotesFromKey}\r\n                findKey={findKey}\r\n                getChord={getChord}\r\n                playScale={playScale}\r\n              />\r\n              <ChordChart\r\n                keyboardLocked={keyboardLocked}\r\n                autoplaying={autoplaying}\r\n                chosenChord={chosenChord}\r\n                notesSelected={notesSelected}\r\n                selectNotesFromChord={selectNotesFromChord}\r\n                getChord={getChord}\r\n                chordDetect={chordDetect}\r\n                playChord={playChord}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\n// import { ChordsProvider } from \"./contexts/ChordsContext\";\r\nimport Layout from \"./components/Layout\";\r\nimport \"./css/style.scss\";\r\n\r\nfunction App() {\r\n  return <Layout />;\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}